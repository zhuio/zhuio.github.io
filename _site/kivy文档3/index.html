<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]--><!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8"><![endif]--><!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9"><![endif]--><!--[if gt IE 8]><!--><html class="no-js">
<!--<![endif]--> <head> <meta charset="UTF-8"> <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> <title>kivy文档3 – 朱智博在Github上的Blog</title> <meta name="description" content="朱智博，朱智博的博客，zhuio,zhuio.github.io,"> <meta name="keywords" content="kivy"> <!-- Twitter Cards --> <meta name="twitter:card" content="summary"> <meta name="twitter:image" content="http://localhost:4000/assets/img/logo.png"> <meta name="twitter:title" content="kivy文档3"> <meta name="twitter:description" content="Kivy中文编程指南：环境变量"> <!-- Open Graph --> <meta property="og:locale" content="zh_CN"> <meta property="og:type" content="article"> <meta property="og:title" content="kivy文档3"> <meta property="og:description" content="Kivy中文编程指南：环境变量"> <meta property="og:url" content="http://localhost:4000/kivy%E6%96%87%E6%A1%A33/"> <meta property="og:site_name" content="朱智博在Github上的Blog"> <meta property="og:image" content="http://localhost:4000/assets/img/logo.png"> <link rel="canonical" href="http://localhost:4000/kivy%E6%96%87%E6%A1%A33/"> <link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="朱智博在Github上的Blog Feed"> <!-- Handheld --> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- CSS --> <link rel="stylesheet" href="http://localhost:4000/assets/css/main.css"> <!-- JS --> <script src="http://localhost:4000/assets/js/modernizr-3.3.1.custom.min.js"></script> <!-- Favicons --> <link rel="apple-touch-icon" href="http://localhost:4000/assets/img/favicons/apple-icon-precomposed.png"> <link rel="apple-touch-icon" sizes="72x72" href="http://localhost:4000/assets/img/favicons/apple-icon-72x72.png"> <link rel="apple-touch-icon" sizes="114x114" href="http://localhost:4000/assets/img/favicons/apple-icon-114x114.png"> <link rel="apple-touch-icon" sizes="144x144" href="http://localhost:4000/assets/img/favicons/apple-icon-144x144.png"> <link rel="shortcut icon" type="image/png" href="http://localhost:4000/favicon.png"> <link rel="shortcut icon" href="http://localhost:4000/favicon.ico"> <!-- Background Image --> <style type="text/css">body {background-image:url(http://localhost:4000/assets/img/placeholder-big.jpg); background-repeat: no-repeat; background-size: cover; }</style> <!-- Post Feature Image --> </head> <body> <nav id="dl-menu" class="dl-menuwrapper" role="navigation"> <button class="dl-trigger">Open Menu</button> <ul class="dl-menu"> <li><a href="http://localhost:4000/">Home</a></li> <li> <a href="#">About</a> <ul class="dl-submenu"> <li> <img src="http://localhost:4000/assets/img/logo.png" alt="朱智博在Github上的Blog photo" class="author-photo"> <h4>朱智博在Github上的Blog</h4> <p>朱智博，朱智博的博客，zhuio,zhuio.github.io,</p> </li> <li><a href="http://localhost:4000/about/"><span class="btn btn-inverse">Learn More</span></a></li> <li> <a href="mailto:185560083@qq.com" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-envelope-square"></i> Email</a> </li> <li> <a href="http://github.com/zhuio" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-github"></i> Github</a> </li> <li> <a href="http://www.weibo.com/EDM_LOVER" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-weibo"></i> Weibo</a> </li> </ul>
<!-- /.dl-submenu --> </li> <li> <a href="#">Posts</a> <ul class="dl-submenu"> <li><a href="http://localhost:4000/posts/">All Posts</a></li> <li><a href="http://localhost:4000/tags/">All Tags</a></li> </ul> </li> <li><a href="http://localhost:4000/projects/">Projects</a></li> </ul>
<!-- /.dl-menu --> </nav><!-- /.dl-menuwrapper --> <!-- Header --> <header class="header" role="banner"> <div class="wrapper animated fadeIn"> <div class="content"> <div class="post-title "> <h1>kivy文档3</h1> <h4>07 Aug 2017</h4> <p class="reading-time"> <i class="fa fa-clock-o"></i> Reading time ~1 minute </p>
<!-- /.entry-reading-time --> <a class="btn zoombtn" href="http://localhost:4000/posts/"> <i class="fa fa-chevron-left"></i> </a> </div> <h1 id="kivy中文编程指南环境变量">Kivy中文编程指南：环境变量</h1> <p><a href="https://kivy.org/docs/guide/environment.html">英文原文</a></p> <p>Kivy的初始化和很多行为都可以通过各种环境变量来控制。</p> <p>例如，若要严格设定用PIL进行文本渲染，可以通过如下方式来实现：</p>
<pre><code class="language-Bash">$ KIVY_TEXT=pil python main.py
</code></pre>
<p>(译者注：PIL，Python Imaging Library, Python 下常用的绘图库)</p> <p>所有的这些环境变量的修改设定都需要在导入Kivy之前进行，具体如下所示：</p>
<pre><code class="language-Python">import os
os.environ['KIVY_TEXT'] = 'pil'
import kivy
</code></pre>
<h2 id="路径控制">路径控制</h2> <ul> <li>从Kivy1.0.7版本开始提供</li> </ul> <p>You can control the default directories where config files, modules and kivy data are located.</p> <p>Kivy的配置文件、模块以及数据存储的默认目录，都可手动设定所在位置。</p> <blockquote> <p>KIVY_DATA_DIR</p> </blockquote> <p>这个是Kivy的数据目录，默认值为/data 。</p> <blockquote> <p>KIVY_MODULES_DIR</p> </blockquote> <p>这个是Kivy的模块目录，默认值为/modules 。</p> <blockquote> <p>KIVY_HOME</p> </blockquote> <p>这个是Kivy的HOME目录，该目录是用来存放本地配置文件的，必须是一个可以写入的位置。对应不同系统也有不同位置：</p> <div class="highlighter-rouge"><pre class="highlight"><code>* Desktop: /.kivy
* Android: /.kivy
* iOS: /Documents/.kivy
</code></pre></div> <ul> <li>从Kivy1.9.0版本开始提供</li> </ul> <blockquote> <p>KIVY_SDL2_PATH</p> </blockquote> <p>这个变量若设定了，编译Kivy的时候就会使用该位置的SDL2库文件，而不再使用系统的库文件。在环境变量PATH的开头部位就要设定好这个变量，这样在运行一个Kivy应用的时候才能也使用相同的SDL2库文件。</p> <ul> <li>从Kivy1.9.0版本开始提供</li> </ul> <p>####特别注意</p> <p>刚刚这个SDL2路径是用来编译Kivy的。运行程序的话就用不着了。</p> <h2 id="配置文件">配置文件</h2> <blockquote> <p>KIVY_USE_DEFAULTCONFIG</p> </blockquote> <p>若设定了此环境变量，Kivy会读取制定的配置文件。</p> <blockquote> <p>KIVY_NO_CONFIG</p> </blockquote> <p>若设定了此环境变量，Kivy将不会读取也不会写入任何配置文件。也适用于用户配置文件夹的位置。（译者注：这句话我还没弄明白，因为没有这样尝试。）</p> <blockquote> <p>KIVY_NO_FILELOG</p> </blockquote> <p>若设定了此环境变量，日志将不再输出到文件内。</p> <blockquote> <p>KIVY_NO_CONSOLELOG</p> </blockquote> <p>若设定了此环境变量，日志将不再输出到控制台。</p> <blockquote> <p>KIVY_NO_ARGS</p> </blockquote> <p>若设定了此环境变量，命令行传递的参数将不会被Kivy解析和使用。也就是说，可以不用 – 定义符，就能随便创建一个使用自己参数的脚本或者应用：</p>
<pre><code class="language-Python">import os
os.environ["KIVY_NO_ARGS"] = "1"
import kivy
</code></pre>
<ul> <li>从Kivy1.9.0版本开始提供</li> </ul> <h2 id="限定kivycore核心使用特定版本">限定Kivy.core核心，使用特定版本</h2> <p>Kivy.core会尝试使用所在平台的最优实现。如果要测试或者定制安装，你可能要把选择器设定为某个特定版本的kivy.core。</p> <blockquote> <p>KIVY_WINDOW</p> </blockquote> <p>这一变量是用来设定如何创建窗口，可用值：sdl2, pygame, x11, egl_rpi</p> <blockquote> <p>KIVY_TEXT</p> </blockquote> <p>这一变量是用来设定如何渲染文本，可用值：sdl2, pil, pygame, sdlttf</p> <blockquote> <p>KIVY_VIDEO</p> </blockquote> <p>这一变量是用来设定如何渲染视频，可用值：pygst, gstplayer, pyglet, ffpyplayer, ffmpeg, gi, null</p> <blockquote> <p>KIVY_AUDIO</p> </blockquote> <p>这一变量是用来设定如何播放声音，可用值：sdl2, gstplayer, pygst, ffpyplayer, pygame, gi, avplayer</p> <blockquote> <p>KIVY_IMAGE</p> </blockquote> <p>这一变量是用来设定如何读取图像，可用值：sdl2, pil, pygame, imageio, tex, dds, gif</p> <blockquote> <p>KIVY_CAMERA</p> </blockquote> <p>这一变量是用来设定如何读取摄像头，可用值：videocapture, avfoundation, pygst, opencv</p> <blockquote> <p>KIVY_SPELLING</p> </blockquote> <p>这一变量是用来设定拼写，可用值： enchant, osxappkit</p> <blockquote> <p>KIVY_CLIPBOARD</p> </blockquote> <p>这一变量是用来设定剪切板管理组件，可用值：sdl2, pygame, dummy, android</p> <h2 id="设置单位">设置单位</h2> <blockquote> <p>KIVY_DPI</p> </blockquote> <p>这个是用来设定Metrics.dpi的dpi值的。</p> <ul> <li>从Kivy1.4.0版本开始提供</li> </ul> <blockquote> <p>KIVY_METRICS_DENSITY</p> </blockquote> <p>这个是用来设定Metrics.density，像素密度。</p> <ul> <li>从Kivy1.5.0版本开始提供</li> </ul> <blockquote> <p>KIVY_METRICS_FONTSCALE</p> </blockquote> <p>这个是用来设定Metrics.fontscale，字体大小。</p> <ul> <li>从Kivy1.5.0版本开始提供</li> </ul> <h2 id="图形输出">图形输出</h2> <blockquote> <p>KIVY_GL_BACKEND</p> </blockquote> <p>此变量用于设定使用的OpenGL后端，更多细节参考<a href="http://kivy.org/docs/api-kivy.graphics.cgl.html#module-kivy.graphics.cgl" title="kivy.graphics.cgl">cgl</a>.</p> <blockquote> <p>KIVY_GL_DEBUG</p> </blockquote> <p>此变量用于设定是否对OpenGL调用进行日志记录，更多细节参考<a href="http://kivy.org/docs/api-kivy.graphics.cgl.html#module-kivy.graphics.cgl" title="kivy.graphics.cgl">cgl</a>.</p> <blockquote> <p>KIVY_GRAPHICS</p> </blockquote> <p>此变量用于设定是否使用OpenGL ES2，更多细节参考<a href="http://kivy.org/docs/api-kivy.graphics.cgl.html#module-kivy.graphics.cgl" title="kivy.graphics.cgl">cgl</a>.</p> <blockquote> <p>KIVY_GLES_LIMITS</p> </blockquote> <p>此变量用于设定是否强制设定GLES2（默认值为启用，设置为1）。如果设定为false，Kivy将不再兼容GLES2。（译者注：这部分我不懂，就直接生硬翻译了原文，建议大家参考一下原文去理解。）如果设置为true，可能有下表中所示的潜在的不兼容情况：</p> <table> <thead> <tr> <th>Mesh indices</th> <th style="text-align: center">If true, the number of indices in a mesh is limited to 65535</th> </tr> </thead> <tbody> <tr> <td>Texture blit</td> <td style="text-align: center">When blitting to a texture, the data (color and buffer) format must be the same format as the one used at the texture creation. On desktop, the conversion of different color is correctly handled by the driver, while on Android, most of devices fail to do it. Ref: <a href="https://github.com/kivy/kivy/issues/1600">https://github.com/kivy/kivy/issues/1600</a>
</td> </tr> </tbody> </table> <ul> <li>从Kivy1.8.1版本开始提供</li> </ul> <blockquote> <p>KIVY_BCM_DISPMANX_ID</p> </blockquote> <p>此变量是针对Raspberry Pi树莓派平台的，用于设定所选择的视频输出端口。默认值为0，下面列表中是在vc_dispmanx_types.h这个头文件中存储的可供选择的变量值：</p> <ul> <li>0: DISPMANX_ID_MAIN_LCD</li> <li>1: DISPMANX_ID_AUX_LCD</li> <li>2: DISPMANX_ID_HDMI</li> <li>3: DISPMANX_ID_SDTV</li> <li>4: DISPMANX_ID_FORCE_LCD</li> <li>5: DISPMANX_ID_FORCE_TV</li> <li>6: DISPMANX_ID_FORCE_OTHER</li> </ul> <p>（译者注：上面0-6分别是不同的显示输出端口，相信很容易看懂，大家探索一下吧。）</p> <div class="entry-meta"> <br> <hr> <span class="entry-tags"><a href="http://localhost:4000/tags/#kivy" title="Pages tagged kivy" class="tag"><span class="term">kivy</span></a></span> <span class="social-share"> <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/kivy%E6%96%87%E6%A1%A33/" title="Share on Facebook" class="tag"> <span class="term"><i class="fa fa-facebook-square"></i> Share</span> </a> <a href="https://twitter.com/intent/tweet?text=http://localhost:4000/kivy%E6%96%87%E6%A1%A33/" title="Share on Twitter" class="tag"> <span class="term"><i class="fa fa-twitter-square"></i> Tweet</span> </a> <a href="https://plus.google.com/share?url=http://localhost:4000/kivy%E6%96%87%E6%A1%A33/" title="Share on Google+" class="tag"> <span class="term"><i class="fa fa-google-plus-square"></i> +1</span> </a> </span> <div style="clear:both"></div> </div> </div> </div> <h101> <!-- 多说评论框 start --> <div class="ds-thread" data-thread-key="" data-title="kivy文档3" data-url="http://localhost:4000"></div> <!-- 多说评论框 end --> <!-- 多说公共JS代码 start (一个网页只需插入一次) --> <script type="text/javascript"> var duoshuoQuery = {short_name:"zhuio"}; (function() { var ds = document.createElement('script'); ds.type = 'text/javascript';ds.async = true; ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js'; ds.charset = 'UTF-8'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds); })(); </script> <!-- 多说公共JS代码 end --> </h101> </header> <!-- JS --> <script src="http://localhost:4000/assets/js/jquery-1.12.0.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.dlmenu.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.goup.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.magnific-popup.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.fitvid.min.js"></script> <script src="http://localhost:4000/assets/js/scripts.js"></script> <script type="text/javascript"> var disqus_shortname = 'zhuio-github-io'; (function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })(); (function () { var s = document.createElement('script'); s.async = true; s.type = 'text/javascript'; s.src = '//' + disqus_shortname + '.disqus.com/count.js'; (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s); }()); </script> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript> <!-- MathJax --> <script async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> </body> </html>
